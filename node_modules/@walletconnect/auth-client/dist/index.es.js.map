{"version":3,"file":"index.es.js","sources":["../src/types/engine.ts","../src/types/client.ts","../src/constants/defaults.ts","../src/constants/engine.ts","../src/constants/client.ts","../src/constants/expirer.ts","../src/utils/address.ts","../src/utils/signature.ts","../src/utils/store.ts","../src/utils/validators.ts","../../../node_modules/uint8arrays/esm/src/alloc.js","../../../node_modules/multiformats/esm/vendor/base-x.js","../../../node_modules/multiformats/esm/src/bytes.js","../../../node_modules/multiformats/esm/src/bases/base.js","../../../node_modules/multiformats/esm/src/bases/identity.js","../../../node_modules/multiformats/esm/src/bases/base2.js","../../../node_modules/multiformats/esm/src/bases/base8.js","../../../node_modules/multiformats/esm/src/bases/base10.js","../../../node_modules/multiformats/esm/src/bases/base16.js","../../../node_modules/multiformats/esm/src/bases/base32.js","../../../node_modules/multiformats/esm/src/bases/base36.js","../../../node_modules/multiformats/esm/src/bases/base58.js","../../../node_modules/multiformats/esm/src/bases/base64.js","../../../node_modules/multiformats/esm/src/bases/base256emoji.js","../../../node_modules/multiformats/esm/vendor/varint.js","../../../node_modules/multiformats/esm/src/varint.js","../../../node_modules/multiformats/esm/src/hashes/digest.js","../../../node_modules/multiformats/esm/src/hashes/hasher.js","../../../node_modules/multiformats/esm/src/hashes/sha2-browser.js","../../../node_modules/multiformats/esm/src/hashes/identity.js","../../../node_modules/multiformats/esm/src/codecs/json.js","../../../node_modules/multiformats/esm/src/basics.js","../../../node_modules/uint8arrays/esm/src/util/bases.js","../../../node_modules/uint8arrays/esm/src/from-string.js","../../../node_modules/uint8arrays/esm/src/to-string.js","../src/utils/crypto.ts","../src/controllers/engine.ts","../src/client.ts","../src/index.ts"],"sourcesContent":["import { CryptoTypes, RelayerTypes, Verify } from \"@walletconnect/types\";\n\nimport {\n  ErrorResponse as CommonErrorResponse,\n  JsonRpcError,\n  JsonRpcRequest,\n  JsonRpcResponse,\n  JsonRpcResult,\n} from \"@walletconnect/jsonrpc-utils\";\nimport { AuthClientTypes, IAuthClient } from \"./client\";\nimport { JsonRpcTypes } from \"./jsonrpc\";\n\nexport interface RpcOpts {\n  req: RelayerTypes.PublishOptions;\n  res: RelayerTypes.PublishOptions;\n}\n\nexport declare namespace AuthEngineTypes {\n  interface EventCallback<T extends JsonRpcRequest | JsonRpcResponse> {\n    topic: string;\n    payload: T;\n  }\n\n  // https://github.com/ChainAgnostic/CAIPs/pull/74\n  interface RequestParams {\n    chainId: string;\n    domain: string;\n    nonce: string;\n    aud: string;\n    type?: CacaoHeader[\"t\"];\n    nbf?: string;\n    exp?: string;\n    statement?: string;\n    requestId?: string;\n    resources?: string[];\n    expiry?: number;\n  }\n\n  interface PayloadParams {\n    type: CacaoHeader[\"t\"];\n    chainId: string;\n    domain: string;\n    aud: string;\n    version: string;\n    nonce: string;\n    iat: string;\n    nbf?: string;\n    exp?: string;\n    statement?: string;\n    requestId?: string;\n    resources?: string[];\n  }\n  interface CacaoPayload {\n    iss: string;\n    domain: string;\n    aud: string;\n    version: string;\n    nonce: string;\n    iat: string;\n    nbf?: string;\n    exp?: string;\n    chainId?: string;\n    statement?: string;\n    requestId?: string;\n    resources?: string[];\n  }\n\n  type CacaoRequestPayload = Omit<CacaoPayload, \"iss\">;\n\n  interface CacaoHeader {\n    t: \"eip4361\";\n  }\n\n  interface CacaoSignature {\n    t: \"eip191\" | \"eip1271\";\n    s: string;\n    m?: string;\n  }\n\n  interface Cacao {\n    h: CacaoHeader;\n    p: CacaoPayload;\n    s: CacaoSignature;\n  }\n\n  interface PendingRequest {\n    id: number;\n    pairingTopic: string;\n    requester: {\n      publicKey: string;\n      metadata: AuthClientTypes.Metadata;\n    };\n    cacaoPayload: CacaoRequestPayload;\n    verifyContext: Verify.Context;\n  }\n\n  interface ResultResponse {\n    id: number;\n    signature: CacaoSignature;\n  }\n\n  interface ErrorResponse {\n    id: number;\n    error: CommonErrorResponse;\n  }\n\n  type RespondParams = ResultResponse | ErrorResponse;\n}\n\nexport abstract class IAuthEngine {\n  constructor(public client: IAuthClient) {}\n\n  public abstract init(): void;\n\n  public abstract request(\n    params: AuthEngineTypes.RequestParams,\n    opts?: { topic?: string },\n  ): Promise<{ uri?: string; id: number }>;\n\n  public abstract respond(params: AuthEngineTypes.RespondParams, iss: string): Promise<void>;\n\n  public abstract getPendingRequests(): Record<number, AuthEngineTypes.PendingRequest>;\n\n  public abstract formatMessage(payload: AuthEngineTypes.CacaoRequestPayload, iss: string): string;\n\n  // ---------- Protected Helpers --------------------------------------- //\n\n  protected abstract sendRequest<M extends JsonRpcTypes.WcMethod>(\n    topic: string,\n    method: M,\n    params: JsonRpcTypes.RequestParams[M],\n    encodeOpts?: CryptoTypes.EncodeOptions,\n    expiry?: number,\n  ): Promise<number>;\n\n  protected abstract sendResult<M extends JsonRpcTypes.WcMethod>(\n    id: number,\n    topic: string,\n    result: JsonRpcTypes.Results[M],\n    encodeOpts?: CryptoTypes.EncodeOptions,\n  ): Promise<number>;\n\n  protected abstract sendError(\n    id: number,\n    topic: string,\n    error: AuthEngineTypes.ErrorResponse,\n    opts?: CryptoTypes.EncodeOptions,\n  ): Promise<number>;\n\n  protected abstract setExpiry(topic: string, expiry: number): Promise<void>;\n\n  // ---------- Protected Relay Event Methods ----------------------------------- //\n\n  protected abstract onRelayEventRequest(\n    event: AuthEngineTypes.EventCallback<JsonRpcRequest>,\n  ): void;\n\n  protected abstract onRelayEventResponse(\n    event: AuthEngineTypes.EventCallback<JsonRpcResponse>,\n  ): Promise<void>;\n\n  // ---------- Protected Relay Event Handlers --------------------------------- //\n\n  protected abstract onAuthRequest(\n    topic: string,\n    payload: JsonRpcRequest<JsonRpcTypes.RequestParams[\"wc_authRequest\"]>,\n  ): Promise<void>;\n\n  protected abstract onAuthResponse(\n    topic: string,\n    payload: JsonRpcResult<JsonRpcTypes.Results[\"wc_authRequest\"]> | JsonRpcError,\n  ): void;\n}\n","import { ICore, IStore, CoreTypes, Verify } from \"@walletconnect/types\";\nimport EventEmitter from \"events\";\nimport { AuthEngineTypes } from \"./engine\";\n\nimport { IAuthEngine } from \"../types\";\nimport { JsonRpcError, JsonRpcResult } from \"@walletconnect/jsonrpc-utils\";\nimport { Logger } from \"@walletconnect/logger\";\n\nexport declare namespace AuthClientTypes {\n  type Event = \"auth_request\" | \"auth_response\";\n\n  interface AuthRequestEventArgs {\n    requester: AuthEngineTypes.PendingRequest[\"requester\"];\n    cacaoPayload: AuthEngineTypes.CacaoRequestPayload;\n  }\n\n  type AuthResponseEventArgs =\n    | { message: string; code: number }\n    | JsonRpcResult<AuthEngineTypes.Cacao>\n    | JsonRpcError;\n\n  interface BaseEventArgs<T = unknown> {\n    id: number;\n    topic: string;\n    params: T;\n    verifyContext?: Verify.Context;\n  }\n\n  interface EventArguments {\n    auth_request: BaseEventArgs<AuthRequestEventArgs>;\n    auth_response: BaseEventArgs<AuthResponseEventArgs>;\n  }\n\n  interface Options extends CoreTypes.Options {\n    metadata: Metadata;\n    core?: ICore;\n    projectId: string;\n  }\n\n  interface Metadata {\n    name: string;\n    description: string;\n    url: string;\n    icons: string[];\n    redirect?: {\n      native?: string;\n      universal?: string;\n    };\n    verifyUrl?: string;\n  }\n}\n\nexport abstract class IAuthClient {\n  public abstract readonly protocol: string;\n  public abstract readonly version: number;\n  public abstract readonly name: string;\n\n  public abstract core: ICore;\n  public abstract metadata: AuthClientTypes.Metadata;\n  public abstract projectId: string;\n  public abstract authKeys: IStore<string, { responseTopic: string; publicKey: string }>;\n  public abstract pairingTopics: IStore<string, { topic: string; pairingTopic: string }>;\n  public abstract requests: IStore<\n    number,\n    { id: number } & (AuthEngineTypes.Cacao | AuthEngineTypes.PendingRequest)\n  >;\n\n  public abstract events: EventEmitter;\n  public abstract logger: Logger;\n  public abstract engine: IAuthEngine;\n\n  constructor(public opts: AuthClientTypes.Options) {}\n\n  // ---------- Public Methods ----------------------------------------------- //\n\n  public abstract request: IAuthEngine[\"request\"];\n  public abstract respond: IAuthEngine[\"respond\"];\n  public abstract formatMessage: IAuthEngine[\"formatMessage\"];\n  public abstract getPendingRequests: IAuthEngine[\"getPendingRequests\"];\n\n  // ---------- Event Handlers ----------------------------------------------- //\n\n  public abstract emit: <E extends AuthClientTypes.Event>(\n    event: E,\n    args: AuthClientTypes.EventArguments[E],\n  ) => boolean;\n\n  public abstract on: <E extends AuthClientTypes.Event>(\n    event: E,\n    listener: (args: AuthClientTypes.EventArguments[E]) => void,\n  ) => EventEmitter;\n\n  public abstract once: <E extends AuthClientTypes.Event>(\n    event: E,\n    listener: (args: AuthClientTypes.EventArguments[E]) => void,\n  ) => EventEmitter;\n\n  public abstract off: <E extends AuthClientTypes.Event>(\n    event: E,\n    listener: (args: AuthClientTypes.EventArguments[E]) => void,\n  ) => EventEmitter;\n\n  public abstract removeListener: <E extends AuthClientTypes.Event>(\n    event: E,\n    listener: (args: AuthClientTypes.EventArguments[E]) => void,\n  ) => EventEmitter;\n}\n","export const DEFAULT_RPC_URL = \"https://rpc.walletconnect.com/v1\";\n","import { ONE_DAY, FIVE_MINUTES, SEVEN_DAYS } from \"@walletconnect/time\";\nimport { JsonRpcTypes, RpcOpts } from \"../types\";\n\nexport const ENGINE_RPC_OPTS: Record<JsonRpcTypes.WcMethod, RpcOpts> = {\n  wc_authRequest: {\n    req: {\n      ttl: ONE_DAY,\n      prompt: true,\n      tag: 3000,\n    },\n    res: {\n      ttl: ONE_DAY,\n      prompt: false,\n      tag: 3001,\n    },\n  },\n};\n\nexport const AUTH_REQUEST_EXPIRY_BOUNDARIES = {\n  min: FIVE_MINUTES,\n  max: SEVEN_DAYS,\n};\n","export const AUTH_CLIENT_PROTOCOL = \"wc\";\nexport const AUTH_CLIENT_VERSION = 1;\nexport const AUTH_CLIENT_CONTEXT = \"auth\";\nexport const AUTH_CLIENT_DEFAULT_NAME = \"authClient\";\n\nexport const AUTH_CLIENT_STORAGE_PREFIX = `${AUTH_CLIENT_PROTOCOL}@${AUTH_CLIENT_VERSION}:${AUTH_CLIENT_CONTEXT}:`;\nexport const AUTH_CLIENT_PUBLIC_KEY_NAME = `${AUTH_CLIENT_STORAGE_PREFIX}:PUB_KEY`;\n","import { ONE_DAY } from \"@walletconnect/time\";\n\nexport const EXPIRER_CONTEXT = \"expirer\";\n\nexport const EXPIRER_EVENTS = {\n  created: \"expirer_created\",\n  deleted: \"expirer_deleted\",\n  expired: \"expirer_expired\",\n  sync: \"expirer_sync\",\n};\n\nexport const EXPIRER_STORAGE_VERSION = \"0.3\";\n\nexport const EXPIRER_DEFAULT_TTL = ONE_DAY;\n","export function getDidAddressSegments(iss: string) {\n  return iss?.split(\":\");\n}\n\nexport function getDidChainId(iss: string) {\n  const segments = iss && getDidAddressSegments(iss);\n  if (segments) {\n    return segments[3];\n  }\n  return undefined;\n}\n\nexport function getNamespacedDidChainId(iss: string) {\n  const segments = iss && getDidAddressSegments(iss);\n  if (segments) {\n    return segments[2] + \":\" + segments[3];\n  }\n  return undefined;\n}\n\nexport function getDidAddress(iss: string) {\n  const segments = iss && getDidAddressSegments(iss);\n  if (segments) {\n    return segments.pop();\n  }\n  return undefined;\n}\n","import { hashMessage } from \"@ethersproject/hash\";\nimport { recoverAddress } from \"@ethersproject/transactions\";\nimport fetch from \"isomorphic-unfetch\";\n\nimport { AuthEngineTypes } from \"../types\";\nimport { DEFAULT_RPC_URL } from \"../constants/defaults\";\n\nexport async function verifySignature(\n  address: string,\n  reconstructedMessage: string,\n  cacaoSignature: AuthEngineTypes.CacaoSignature,\n  chainId: string,\n  projectId: string,\n): Promise<boolean> {\n  // Determine if this signature is from an EOA or a contract.\n  switch (cacaoSignature.t) {\n    case \"eip191\":\n      return isValidEip191Signature(address, reconstructedMessage, cacaoSignature.s);\n    case \"eip1271\":\n      return await isValidEip1271Signature(\n        address,\n        reconstructedMessage,\n        cacaoSignature.s,\n        chainId,\n        projectId,\n      );\n    default:\n      throw new Error(\n        `verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${cacaoSignature.t}`,\n      );\n  }\n}\n\nfunction isValidEip191Signature(address: string, message: string, signature: string): boolean {\n  const recoveredAddress = recoverAddress(hashMessage(message), signature);\n  return recoveredAddress.toLowerCase() === address.toLowerCase();\n}\n\nasync function isValidEip1271Signature(\n  address: string,\n  reconstructedMessage: string,\n  signature: string,\n  chainId: string,\n  projectId: string,\n) {\n  try {\n    const eip1271MagicValue = \"0x1626ba7e\";\n    const dynamicTypeOffset = \"0000000000000000000000000000000000000000000000000000000000000040\";\n    const dynamicTypeLength = \"0000000000000000000000000000000000000000000000000000000000000041\";\n    const nonPrefixedSignature = signature.substring(2);\n    const nonPrefixedHashedMessage = hashMessage(reconstructedMessage).substring(2);\n\n    const data =\n      eip1271MagicValue +\n      nonPrefixedHashedMessage +\n      dynamicTypeOffset +\n      dynamicTypeLength +\n      nonPrefixedSignature;\n\n    const response = await fetch(`${DEFAULT_RPC_URL}/?chainId=${chainId}&projectId=${projectId}`, {\n      method: \"POST\",\n      body: JSON.stringify({\n        id: generateJsonRpcId(),\n        jsonrpc: \"2.0\",\n        method: \"eth_call\",\n        params: [{ to: address, data }, \"latest\"],\n      }),\n    });\n    const { result } = await response.json();\n\n    if (!result) return false;\n\n    // Remove right-padded zeros from result to get only the concrete recovered value.\n    const recoveredValue = result.slice(0, eip1271MagicValue.length);\n    return recoveredValue.toLowerCase() === eip1271MagicValue.toLowerCase();\n  } catch (error: any) {\n    console.error(\"isValidEip1271Signature: \", error);\n    return false;\n  }\n}\n\nfunction generateJsonRpcId() {\n  return Date.now() + Math.floor(Math.random() * 1000);\n}\n","import { AuthEngineTypes, IAuthClient } from \"../types\";\n\nexport function getPendingRequests(store: IAuthClient[\"requests\"]) {\n  return store.getAll().filter((request) => \"requester\" in request) as ({\n    id: number;\n  } & AuthEngineTypes.PendingRequest)[];\n}\n\nexport function getCompleteRequests(store: IAuthClient[\"requests\"]) {\n  return store.getAll().filter((request) => !(\"requester\" in request)) as ({\n    id: number;\n  } & AuthEngineTypes.Cacao)[];\n}\n\nexport function getPendingRequest(store: IAuthClient[\"requests\"], id: number) {\n  return getPendingRequests(store).find(\n    (request) => request.id === id,\n  ) as AuthEngineTypes.PendingRequest;\n}\n\nexport function getCompleteResponse(store: IAuthClient[\"requests\"], id: number) {\n  return getCompleteRequests(store).find((request) => request.id === id) as AuthEngineTypes.Cacao;\n}\n","import { IStore } from \"@walletconnect/types\";\nimport { getInternalError, isValidRequestExpiry, isValidUrl } from \"@walletconnect/utils\";\nimport { AUTH_REQUEST_EXPIRY_BOUNDARIES } from \"../constants\";\nimport { AuthEngineTypes } from \"../types\";\nimport { getPendingRequest } from \"./store\";\n\nexport function isValidRequest(params: AuthEngineTypes.RequestParams): boolean {\n  const validAudience = isValidUrl(params.aud);\n  // FIXME: disabling this temporarily since it's failing expected values like `chainId: \"1\"`\n  // const validChainId = isValidChainId(params.chainId);\n  const domainInAud = new RegExp(`${params.domain}`).test(params.aud);\n  const hasNonce = !!params.nonce;\n  const hasValidType = params.type ? params.type === \"eip4361\" : true;\n  const expiry = params.expiry;\n  if (expiry && !isValidRequestExpiry(expiry, AUTH_REQUEST_EXPIRY_BOUNDARIES)) {\n    const { message } = getInternalError(\n      \"MISSING_OR_INVALID\",\n      `request() expiry: ${expiry}. Expiry must be a number (in seconds) between ${AUTH_REQUEST_EXPIRY_BOUNDARIES.min} and ${AUTH_REQUEST_EXPIRY_BOUNDARIES.max}`,\n    );\n    throw new Error(message);\n  }\n\n  return !!(validAudience /*&& validChainId*/ && domainInAud && hasNonce && hasValidType);\n}\n\nexport function isValidRespond(\n  params: AuthEngineTypes.RespondParams,\n  pendingResponses: IStore<number, any>,\n): boolean {\n  const validId = getPendingRequest(pendingResponses, params.id);\n\n  return !!validId;\n}\n","export function alloc(size = 0) {\n  if (globalThis.Buffer != null && globalThis.Buffer.alloc != null) {\n    return globalThis.Buffer.alloc(size);\n  }\n  return new Uint8Array(size);\n}\nexport function allocUnsafe(size = 0) {\n  if (globalThis.Buffer != null && globalThis.Buffer.allocUnsafe != null) {\n    return globalThis.Buffer.allocUnsafe(size);\n  }\n  return new Uint8Array(size);\n}","function base(ALPHABET, name) {\n  if (ALPHABET.length >= 255) {\n    throw new TypeError('Alphabet too long');\n  }\n  var BASE_MAP = new Uint8Array(256);\n  for (var j = 0; j < BASE_MAP.length; j++) {\n    BASE_MAP[j] = 255;\n  }\n  for (var i = 0; i < ALPHABET.length; i++) {\n    var x = ALPHABET.charAt(i);\n    var xc = x.charCodeAt(0);\n    if (BASE_MAP[xc] !== 255) {\n      throw new TypeError(x + ' is ambiguous');\n    }\n    BASE_MAP[xc] = i;\n  }\n  var BASE = ALPHABET.length;\n  var LEADER = ALPHABET.charAt(0);\n  var FACTOR = Math.log(BASE) / Math.log(256);\n  var iFACTOR = Math.log(256) / Math.log(BASE);\n  function encode(source) {\n    if (source instanceof Uint8Array);\n    else if (ArrayBuffer.isView(source)) {\n      source = new Uint8Array(source.buffer, source.byteOffset, source.byteLength);\n    } else if (Array.isArray(source)) {\n      source = Uint8Array.from(source);\n    }\n    if (!(source instanceof Uint8Array)) {\n      throw new TypeError('Expected Uint8Array');\n    }\n    if (source.length === 0) {\n      return '';\n    }\n    var zeroes = 0;\n    var length = 0;\n    var pbegin = 0;\n    var pend = source.length;\n    while (pbegin !== pend && source[pbegin] === 0) {\n      pbegin++;\n      zeroes++;\n    }\n    var size = (pend - pbegin) * iFACTOR + 1 >>> 0;\n    var b58 = new Uint8Array(size);\n    while (pbegin !== pend) {\n      var carry = source[pbegin];\n      var i = 0;\n      for (var it1 = size - 1; (carry !== 0 || i < length) && it1 !== -1; it1--, i++) {\n        carry += 256 * b58[it1] >>> 0;\n        b58[it1] = carry % BASE >>> 0;\n        carry = carry / BASE >>> 0;\n      }\n      if (carry !== 0) {\n        throw new Error('Non-zero carry');\n      }\n      length = i;\n      pbegin++;\n    }\n    var it2 = size - length;\n    while (it2 !== size && b58[it2] === 0) {\n      it2++;\n    }\n    var str = LEADER.repeat(zeroes);\n    for (; it2 < size; ++it2) {\n      str += ALPHABET.charAt(b58[it2]);\n    }\n    return str;\n  }\n  function decodeUnsafe(source) {\n    if (typeof source !== 'string') {\n      throw new TypeError('Expected String');\n    }\n    if (source.length === 0) {\n      return new Uint8Array();\n    }\n    var psz = 0;\n    if (source[psz] === ' ') {\n      return;\n    }\n    var zeroes = 0;\n    var length = 0;\n    while (source[psz] === LEADER) {\n      zeroes++;\n      psz++;\n    }\n    var size = (source.length - psz) * FACTOR + 1 >>> 0;\n    var b256 = new Uint8Array(size);\n    while (source[psz]) {\n      var carry = BASE_MAP[source.charCodeAt(psz)];\n      if (carry === 255) {\n        return;\n      }\n      var i = 0;\n      for (var it3 = size - 1; (carry !== 0 || i < length) && it3 !== -1; it3--, i++) {\n        carry += BASE * b256[it3] >>> 0;\n        b256[it3] = carry % 256 >>> 0;\n        carry = carry / 256 >>> 0;\n      }\n      if (carry !== 0) {\n        throw new Error('Non-zero carry');\n      }\n      length = i;\n      psz++;\n    }\n    if (source[psz] === ' ') {\n      return;\n    }\n    var it4 = size - length;\n    while (it4 !== size && b256[it4] === 0) {\n      it4++;\n    }\n    var vch = new Uint8Array(zeroes + (size - it4));\n    var j = zeroes;\n    while (it4 !== size) {\n      vch[j++] = b256[it4++];\n    }\n    return vch;\n  }\n  function decode(string) {\n    var buffer = decodeUnsafe(string);\n    if (buffer) {\n      return buffer;\n    }\n    throw new Error(`Non-${ name } character`);\n  }\n  return {\n    encode: encode,\n    decodeUnsafe: decodeUnsafe,\n    decode: decode\n  };\n}\nvar src = base;\nvar _brrp__multiformats_scope_baseX = src;\nexport default _brrp__multiformats_scope_baseX;","const empty = new Uint8Array(0);\nconst toHex = d => d.reduce((hex, byte) => hex + byte.toString(16).padStart(2, '0'), '');\nconst fromHex = hex => {\n  const hexes = hex.match(/../g);\n  return hexes ? new Uint8Array(hexes.map(b => parseInt(b, 16))) : empty;\n};\nconst equals = (aa, bb) => {\n  if (aa === bb)\n    return true;\n  if (aa.byteLength !== bb.byteLength) {\n    return false;\n  }\n  for (let ii = 0; ii < aa.byteLength; ii++) {\n    if (aa[ii] !== bb[ii]) {\n      return false;\n    }\n  }\n  return true;\n};\nconst coerce = o => {\n  if (o instanceof Uint8Array && o.constructor.name === 'Uint8Array')\n    return o;\n  if (o instanceof ArrayBuffer)\n    return new Uint8Array(o);\n  if (ArrayBuffer.isView(o)) {\n    return new Uint8Array(o.buffer, o.byteOffset, o.byteLength);\n  }\n  throw new Error('Unknown type, must be binary type');\n};\nconst isBinary = o => o instanceof ArrayBuffer || ArrayBuffer.isView(o);\nconst fromString = str => new TextEncoder().encode(str);\nconst toString = b => new TextDecoder().decode(b);\nexport {\n  equals,\n  coerce,\n  isBinary,\n  fromHex,\n  toHex,\n  fromString,\n  toString,\n  empty\n};","import basex from '../../vendor/base-x.js';\nimport { coerce } from '../bytes.js';\nclass Encoder {\n  constructor(name, prefix, baseEncode) {\n    this.name = name;\n    this.prefix = prefix;\n    this.baseEncode = baseEncode;\n  }\n  encode(bytes) {\n    if (bytes instanceof Uint8Array) {\n      return `${ this.prefix }${ this.baseEncode(bytes) }`;\n    } else {\n      throw Error('Unknown type, must be binary type');\n    }\n  }\n}\nclass Decoder {\n  constructor(name, prefix, baseDecode) {\n    this.name = name;\n    this.prefix = prefix;\n    if (prefix.codePointAt(0) === undefined) {\n      throw new Error('Invalid prefix character');\n    }\n    this.prefixCodePoint = prefix.codePointAt(0);\n    this.baseDecode = baseDecode;\n  }\n  decode(text) {\n    if (typeof text === 'string') {\n      if (text.codePointAt(0) !== this.prefixCodePoint) {\n        throw Error(`Unable to decode multibase string ${ JSON.stringify(text) }, ${ this.name } decoder only supports inputs prefixed with ${ this.prefix }`);\n      }\n      return this.baseDecode(text.slice(this.prefix.length));\n    } else {\n      throw Error('Can only multibase decode strings');\n    }\n  }\n  or(decoder) {\n    return or(this, decoder);\n  }\n}\nclass ComposedDecoder {\n  constructor(decoders) {\n    this.decoders = decoders;\n  }\n  or(decoder) {\n    return or(this, decoder);\n  }\n  decode(input) {\n    const prefix = input[0];\n    const decoder = this.decoders[prefix];\n    if (decoder) {\n      return decoder.decode(input);\n    } else {\n      throw RangeError(`Unable to decode multibase string ${ JSON.stringify(input) }, only inputs prefixed with ${ Object.keys(this.decoders) } are supported`);\n    }\n  }\n}\nexport const or = (left, right) => new ComposedDecoder({\n  ...left.decoders || { [left.prefix]: left },\n  ...right.decoders || { [right.prefix]: right }\n});\nexport class Codec {\n  constructor(name, prefix, baseEncode, baseDecode) {\n    this.name = name;\n    this.prefix = prefix;\n    this.baseEncode = baseEncode;\n    this.baseDecode = baseDecode;\n    this.encoder = new Encoder(name, prefix, baseEncode);\n    this.decoder = new Decoder(name, prefix, baseDecode);\n  }\n  encode(input) {\n    return this.encoder.encode(input);\n  }\n  decode(input) {\n    return this.decoder.decode(input);\n  }\n}\nexport const from = ({name, prefix, encode, decode}) => new Codec(name, prefix, encode, decode);\nexport const baseX = ({prefix, name, alphabet}) => {\n  const {encode, decode} = basex(alphabet, name);\n  return from({\n    prefix,\n    name,\n    encode,\n    decode: text => coerce(decode(text))\n  });\n};\nconst decode = (string, alphabet, bitsPerChar, name) => {\n  const codes = {};\n  for (let i = 0; i < alphabet.length; ++i) {\n    codes[alphabet[i]] = i;\n  }\n  let end = string.length;\n  while (string[end - 1] === '=') {\n    --end;\n  }\n  const out = new Uint8Array(end * bitsPerChar / 8 | 0);\n  let bits = 0;\n  let buffer = 0;\n  let written = 0;\n  for (let i = 0; i < end; ++i) {\n    const value = codes[string[i]];\n    if (value === undefined) {\n      throw new SyntaxError(`Non-${ name } character`);\n    }\n    buffer = buffer << bitsPerChar | value;\n    bits += bitsPerChar;\n    if (bits >= 8) {\n      bits -= 8;\n      out[written++] = 255 & buffer >> bits;\n    }\n  }\n  if (bits >= bitsPerChar || 255 & buffer << 8 - bits) {\n    throw new SyntaxError('Unexpected end of data');\n  }\n  return out;\n};\nconst encode = (data, alphabet, bitsPerChar) => {\n  const pad = alphabet[alphabet.length - 1] === '=';\n  const mask = (1 << bitsPerChar) - 1;\n  let out = '';\n  let bits = 0;\n  let buffer = 0;\n  for (let i = 0; i < data.length; ++i) {\n    buffer = buffer << 8 | data[i];\n    bits += 8;\n    while (bits > bitsPerChar) {\n      bits -= bitsPerChar;\n      out += alphabet[mask & buffer >> bits];\n    }\n  }\n  if (bits) {\n    out += alphabet[mask & buffer << bitsPerChar - bits];\n  }\n  if (pad) {\n    while (out.length * bitsPerChar & 7) {\n      out += '=';\n    }\n  }\n  return out;\n};\nexport const rfc4648 = ({name, prefix, bitsPerChar, alphabet}) => {\n  return from({\n    prefix,\n    name,\n    encode(input) {\n      return encode(input, alphabet, bitsPerChar);\n    },\n    decode(input) {\n      return decode(input, alphabet, bitsPerChar, name);\n    }\n  });\n};","import { from } from './base.js';\nimport {\n  fromString,\n  toString\n} from '../bytes.js';\nexport const identity = from({\n  prefix: '\\0',\n  name: 'identity',\n  encode: buf => toString(buf),\n  decode: str => fromString(str)\n});","import { rfc4648 } from './base.js';\nexport const base2 = rfc4648({\n  prefix: '0',\n  name: 'base2',\n  alphabet: '01',\n  bitsPerChar: 1\n});","import { rfc4648 } from './base.js';\nexport const base8 = rfc4648({\n  prefix: '7',\n  name: 'base8',\n  alphabet: '01234567',\n  bitsPerChar: 3\n});","import { baseX } from './base.js';\nexport const base10 = baseX({\n  prefix: '9',\n  name: 'base10',\n  alphabet: '0123456789'\n});","import { rfc4648 } from './base.js';\nexport const base16 = rfc4648({\n  prefix: 'f',\n  name: 'base16',\n  alphabet: '0123456789abcdef',\n  bitsPerChar: 4\n});\nexport const base16upper = rfc4648({\n  prefix: 'F',\n  name: 'base16upper',\n  alphabet: '0123456789ABCDEF',\n  bitsPerChar: 4\n});","import { rfc4648 } from './base.js';\nexport const base32 = rfc4648({\n  prefix: 'b',\n  name: 'base32',\n  alphabet: 'abcdefghijklmnopqrstuvwxyz234567',\n  bitsPerChar: 5\n});\nexport const base32upper = rfc4648({\n  prefix: 'B',\n  name: 'base32upper',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567',\n  bitsPerChar: 5\n});\nexport const base32pad = rfc4648({\n  prefix: 'c',\n  name: 'base32pad',\n  alphabet: 'abcdefghijklmnopqrstuvwxyz234567=',\n  bitsPerChar: 5\n});\nexport const base32padupper = rfc4648({\n  prefix: 'C',\n  name: 'base32padupper',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=',\n  bitsPerChar: 5\n});\nexport const base32hex = rfc4648({\n  prefix: 'v',\n  name: 'base32hex',\n  alphabet: '0123456789abcdefghijklmnopqrstuv',\n  bitsPerChar: 5\n});\nexport const base32hexupper = rfc4648({\n  prefix: 'V',\n  name: 'base32hexupper',\n  alphabet: '0123456789ABCDEFGHIJKLMNOPQRSTUV',\n  bitsPerChar: 5\n});\nexport const base32hexpad = rfc4648({\n  prefix: 't',\n  name: 'base32hexpad',\n  alphabet: '0123456789abcdefghijklmnopqrstuv=',\n  bitsPerChar: 5\n});\nexport const base32hexpadupper = rfc4648({\n  prefix: 'T',\n  name: 'base32hexpadupper',\n  alphabet: '0123456789ABCDEFGHIJKLMNOPQRSTUV=',\n  bitsPerChar: 5\n});\nexport const base32z = rfc4648({\n  prefix: 'h',\n  name: 'base32z',\n  alphabet: 'ybndrfg8ejkmcpqxot1uwisza345h769',\n  bitsPerChar: 5\n});","import { baseX } from './base.js';\nexport const base36 = baseX({\n  prefix: 'k',\n  name: 'base36',\n  alphabet: '0123456789abcdefghijklmnopqrstuvwxyz'\n});\nexport const base36upper = baseX({\n  prefix: 'K',\n  name: 'base36upper',\n  alphabet: '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ'\n});","import { baseX } from './base.js';\nexport const base58btc = baseX({\n  name: 'base58btc',\n  prefix: 'z',\n  alphabet: '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz'\n});\nexport const base58flickr = baseX({\n  name: 'base58flickr',\n  prefix: 'Z',\n  alphabet: '123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ'\n});","import { rfc4648 } from './base.js';\nexport const base64 = rfc4648({\n  prefix: 'm',\n  name: 'base64',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n  bitsPerChar: 6\n});\nexport const base64pad = rfc4648({\n  prefix: 'M',\n  name: 'base64pad',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=',\n  bitsPerChar: 6\n});\nexport const base64url = rfc4648({\n  prefix: 'u',\n  name: 'base64url',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_',\n  bitsPerChar: 6\n});\nexport const base64urlpad = rfc4648({\n  prefix: 'U',\n  name: 'base64urlpad',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=',\n  bitsPerChar: 6\n});","import { from } from './base.js';\nconst alphabet = Array.from('\\uD83D\\uDE80\\uD83E\\uDE90\\u2604\\uD83D\\uDEF0\\uD83C\\uDF0C\\uD83C\\uDF11\\uD83C\\uDF12\\uD83C\\uDF13\\uD83C\\uDF14\\uD83C\\uDF15\\uD83C\\uDF16\\uD83C\\uDF17\\uD83C\\uDF18\\uD83C\\uDF0D\\uD83C\\uDF0F\\uD83C\\uDF0E\\uD83D\\uDC09\\u2600\\uD83D\\uDCBB\\uD83D\\uDDA5\\uD83D\\uDCBE\\uD83D\\uDCBF\\uD83D\\uDE02\\u2764\\uD83D\\uDE0D\\uD83E\\uDD23\\uD83D\\uDE0A\\uD83D\\uDE4F\\uD83D\\uDC95\\uD83D\\uDE2D\\uD83D\\uDE18\\uD83D\\uDC4D\\uD83D\\uDE05\\uD83D\\uDC4F\\uD83D\\uDE01\\uD83D\\uDD25\\uD83E\\uDD70\\uD83D\\uDC94\\uD83D\\uDC96\\uD83D\\uDC99\\uD83D\\uDE22\\uD83E\\uDD14\\uD83D\\uDE06\\uD83D\\uDE44\\uD83D\\uDCAA\\uD83D\\uDE09\\u263A\\uD83D\\uDC4C\\uD83E\\uDD17\\uD83D\\uDC9C\\uD83D\\uDE14\\uD83D\\uDE0E\\uD83D\\uDE07\\uD83C\\uDF39\\uD83E\\uDD26\\uD83C\\uDF89\\uD83D\\uDC9E\\u270C\\u2728\\uD83E\\uDD37\\uD83D\\uDE31\\uD83D\\uDE0C\\uD83C\\uDF38\\uD83D\\uDE4C\\uD83D\\uDE0B\\uD83D\\uDC97\\uD83D\\uDC9A\\uD83D\\uDE0F\\uD83D\\uDC9B\\uD83D\\uDE42\\uD83D\\uDC93\\uD83E\\uDD29\\uD83D\\uDE04\\uD83D\\uDE00\\uD83D\\uDDA4\\uD83D\\uDE03\\uD83D\\uDCAF\\uD83D\\uDE48\\uD83D\\uDC47\\uD83C\\uDFB6\\uD83D\\uDE12\\uD83E\\uDD2D\\u2763\\uD83D\\uDE1C\\uD83D\\uDC8B\\uD83D\\uDC40\\uD83D\\uDE2A\\uD83D\\uDE11\\uD83D\\uDCA5\\uD83D\\uDE4B\\uD83D\\uDE1E\\uD83D\\uDE29\\uD83D\\uDE21\\uD83E\\uDD2A\\uD83D\\uDC4A\\uD83E\\uDD73\\uD83D\\uDE25\\uD83E\\uDD24\\uD83D\\uDC49\\uD83D\\uDC83\\uD83D\\uDE33\\u270B\\uD83D\\uDE1A\\uD83D\\uDE1D\\uD83D\\uDE34\\uD83C\\uDF1F\\uD83D\\uDE2C\\uD83D\\uDE43\\uD83C\\uDF40\\uD83C\\uDF37\\uD83D\\uDE3B\\uD83D\\uDE13\\u2B50\\u2705\\uD83E\\uDD7A\\uD83C\\uDF08\\uD83D\\uDE08\\uD83E\\uDD18\\uD83D\\uDCA6\\u2714\\uD83D\\uDE23\\uD83C\\uDFC3\\uD83D\\uDC90\\u2639\\uD83C\\uDF8A\\uD83D\\uDC98\\uD83D\\uDE20\\u261D\\uD83D\\uDE15\\uD83C\\uDF3A\\uD83C\\uDF82\\uD83C\\uDF3B\\uD83D\\uDE10\\uD83D\\uDD95\\uD83D\\uDC9D\\uD83D\\uDE4A\\uD83D\\uDE39\\uD83D\\uDDE3\\uD83D\\uDCAB\\uD83D\\uDC80\\uD83D\\uDC51\\uD83C\\uDFB5\\uD83E\\uDD1E\\uD83D\\uDE1B\\uD83D\\uDD34\\uD83D\\uDE24\\uD83C\\uDF3C\\uD83D\\uDE2B\\u26BD\\uD83E\\uDD19\\u2615\\uD83C\\uDFC6\\uD83E\\uDD2B\\uD83D\\uDC48\\uD83D\\uDE2E\\uD83D\\uDE46\\uD83C\\uDF7B\\uD83C\\uDF43\\uD83D\\uDC36\\uD83D\\uDC81\\uD83D\\uDE32\\uD83C\\uDF3F\\uD83E\\uDDE1\\uD83C\\uDF81\\u26A1\\uD83C\\uDF1E\\uD83C\\uDF88\\u274C\\u270A\\uD83D\\uDC4B\\uD83D\\uDE30\\uD83E\\uDD28\\uD83D\\uDE36\\uD83E\\uDD1D\\uD83D\\uDEB6\\uD83D\\uDCB0\\uD83C\\uDF53\\uD83D\\uDCA2\\uD83E\\uDD1F\\uD83D\\uDE41\\uD83D\\uDEA8\\uD83D\\uDCA8\\uD83E\\uDD2C\\u2708\\uD83C\\uDF80\\uD83C\\uDF7A\\uD83E\\uDD13\\uD83D\\uDE19\\uD83D\\uDC9F\\uD83C\\uDF31\\uD83D\\uDE16\\uD83D\\uDC76\\uD83E\\uDD74\\u25B6\\u27A1\\u2753\\uD83D\\uDC8E\\uD83D\\uDCB8\\u2B07\\uD83D\\uDE28\\uD83C\\uDF1A\\uD83E\\uDD8B\\uD83D\\uDE37\\uD83D\\uDD7A\\u26A0\\uD83D\\uDE45\\uD83D\\uDE1F\\uD83D\\uDE35\\uD83D\\uDC4E\\uD83E\\uDD32\\uD83E\\uDD20\\uD83E\\uDD27\\uD83D\\uDCCC\\uD83D\\uDD35\\uD83D\\uDC85\\uD83E\\uDDD0\\uD83D\\uDC3E\\uD83C\\uDF52\\uD83D\\uDE17\\uD83E\\uDD11\\uD83C\\uDF0A\\uD83E\\uDD2F\\uD83D\\uDC37\\u260E\\uD83D\\uDCA7\\uD83D\\uDE2F\\uD83D\\uDC86\\uD83D\\uDC46\\uD83C\\uDFA4\\uD83D\\uDE47\\uD83C\\uDF51\\u2744\\uD83C\\uDF34\\uD83D\\uDCA3\\uD83D\\uDC38\\uD83D\\uDC8C\\uD83D\\uDCCD\\uD83E\\uDD40\\uD83E\\uDD22\\uD83D\\uDC45\\uD83D\\uDCA1\\uD83D\\uDCA9\\uD83D\\uDC50\\uD83D\\uDCF8\\uD83D\\uDC7B\\uD83E\\uDD10\\uD83E\\uDD2E\\uD83C\\uDFBC\\uD83E\\uDD75\\uD83D\\uDEA9\\uD83C\\uDF4E\\uD83C\\uDF4A\\uD83D\\uDC7C\\uD83D\\uDC8D\\uD83D\\uDCE3\\uD83E\\uDD42');\nconst alphabetBytesToChars = alphabet.reduce((p, c, i) => {\n  p[i] = c;\n  return p;\n}, []);\nconst alphabetCharsToBytes = alphabet.reduce((p, c, i) => {\n  p[c.codePointAt(0)] = i;\n  return p;\n}, []);\nfunction encode(data) {\n  return data.reduce((p, c) => {\n    p += alphabetBytesToChars[c];\n    return p;\n  }, '');\n}\nfunction decode(str) {\n  const byts = [];\n  for (const char of str) {\n    const byt = alphabetCharsToBytes[char.codePointAt(0)];\n    if (byt === undefined) {\n      throw new Error(`Non-base256emoji character: ${ char }`);\n    }\n    byts.push(byt);\n  }\n  return new Uint8Array(byts);\n}\nexport const base256emoji = from({\n  prefix: '\\uD83D\\uDE80',\n  name: 'base256emoji',\n  encode,\n  decode\n});","var encode_1 = encode;\nvar MSB = 128, REST = 127, MSBALL = ~REST, INT = Math.pow(2, 31);\nfunction encode(num, out, offset) {\n  out = out || [];\n  offset = offset || 0;\n  var oldOffset = offset;\n  while (num >= INT) {\n    out[offset++] = num & 255 | MSB;\n    num /= 128;\n  }\n  while (num & MSBALL) {\n    out[offset++] = num & 255 | MSB;\n    num >>>= 7;\n  }\n  out[offset] = num | 0;\n  encode.bytes = offset - oldOffset + 1;\n  return out;\n}\nvar decode = read;\nvar MSB$1 = 128, REST$1 = 127;\nfunction read(buf, offset) {\n  var res = 0, offset = offset || 0, shift = 0, counter = offset, b, l = buf.length;\n  do {\n    if (counter >= l) {\n      read.bytes = 0;\n      throw new RangeError('Could not decode varint');\n    }\n    b = buf[counter++];\n    res += shift < 28 ? (b & REST$1) << shift : (b & REST$1) * Math.pow(2, shift);\n    shift += 7;\n  } while (b >= MSB$1);\n  read.bytes = counter - offset;\n  return res;\n}\nvar N1 = Math.pow(2, 7);\nvar N2 = Math.pow(2, 14);\nvar N3 = Math.pow(2, 21);\nvar N4 = Math.pow(2, 28);\nvar N5 = Math.pow(2, 35);\nvar N6 = Math.pow(2, 42);\nvar N7 = Math.pow(2, 49);\nvar N8 = Math.pow(2, 56);\nvar N9 = Math.pow(2, 63);\nvar length = function (value) {\n  return value < N1 ? 1 : value < N2 ? 2 : value < N3 ? 3 : value < N4 ? 4 : value < N5 ? 5 : value < N6 ? 6 : value < N7 ? 7 : value < N8 ? 8 : value < N9 ? 9 : 10;\n};\nvar varint = {\n  encode: encode_1,\n  decode: decode,\n  encodingLength: length\n};\nvar _brrp_varint = varint;\nexport default _brrp_varint;","import varint from '../vendor/varint.js';\nexport const decode = (data, offset = 0) => {\n  const code = varint.decode(data, offset);\n  return [\n    code,\n    varint.decode.bytes\n  ];\n};\nexport const encodeTo = (int, target, offset = 0) => {\n  varint.encode(int, target, offset);\n  return target;\n};\nexport const encodingLength = int => {\n  return varint.encodingLength(int);\n};","import {\n  coerce,\n  equals as equalBytes\n} from '../bytes.js';\nimport * as varint from '../varint.js';\nexport const create = (code, digest) => {\n  const size = digest.byteLength;\n  const sizeOffset = varint.encodingLength(code);\n  const digestOffset = sizeOffset + varint.encodingLength(size);\n  const bytes = new Uint8Array(digestOffset + size);\n  varint.encodeTo(code, bytes, 0);\n  varint.encodeTo(size, bytes, sizeOffset);\n  bytes.set(digest, digestOffset);\n  return new Digest(code, size, digest, bytes);\n};\nexport const decode = multihash => {\n  const bytes = coerce(multihash);\n  const [code, sizeOffset] = varint.decode(bytes);\n  const [size, digestOffset] = varint.decode(bytes.subarray(sizeOffset));\n  const digest = bytes.subarray(sizeOffset + digestOffset);\n  if (digest.byteLength !== size) {\n    throw new Error('Incorrect length');\n  }\n  return new Digest(code, size, digest, bytes);\n};\nexport const equals = (a, b) => {\n  if (a === b) {\n    return true;\n  } else {\n    return a.code === b.code && a.size === b.size && equalBytes(a.bytes, b.bytes);\n  }\n};\nexport class Digest {\n  constructor(code, size, digest, bytes) {\n    this.code = code;\n    this.size = size;\n    this.digest = digest;\n    this.bytes = bytes;\n  }\n}","import * as Digest from './digest.js';\nexport const from = ({name, code, encode}) => new Hasher(name, code, encode);\nexport class Hasher {\n  constructor(name, code, encode) {\n    this.name = name;\n    this.code = code;\n    this.encode = encode;\n  }\n  digest(input) {\n    if (input instanceof Uint8Array) {\n      const result = this.encode(input);\n      return result instanceof Uint8Array ? Digest.create(this.code, result) : result.then(digest => Digest.create(this.code, digest));\n    } else {\n      throw Error('Unknown type, must be binary type');\n    }\n  }\n}","import { from } from './hasher.js';\nconst sha = name => async data => new Uint8Array(await crypto.subtle.digest(name, data));\nexport const sha256 = from({\n  name: 'sha2-256',\n  code: 18,\n  encode: sha('SHA-256')\n});\nexport const sha512 = from({\n  name: 'sha2-512',\n  code: 19,\n  encode: sha('SHA-512')\n});","import { coerce } from '../bytes.js';\nimport * as Digest from './digest.js';\nconst code = 0;\nconst name = 'identity';\nconst encode = coerce;\nconst digest = input => Digest.create(code, encode(input));\nexport const identity = {\n  code,\n  name,\n  encode,\n  digest\n};","const textEncoder = new TextEncoder();\nconst textDecoder = new TextDecoder();\nexport const name = 'json';\nexport const code = 512;\nexport const encode = node => textEncoder.encode(JSON.stringify(node));\nexport const decode = data => JSON.parse(textDecoder.decode(data));","import * as identityBase from './bases/identity.js';\nimport * as base2 from './bases/base2.js';\nimport * as base8 from './bases/base8.js';\nimport * as base10 from './bases/base10.js';\nimport * as base16 from './bases/base16.js';\nimport * as base32 from './bases/base32.js';\nimport * as base36 from './bases/base36.js';\nimport * as base58 from './bases/base58.js';\nimport * as base64 from './bases/base64.js';\nimport * as base256emoji from './bases/base256emoji.js';\nimport * as sha2 from './hashes/sha2.js';\nimport * as identity from './hashes/identity.js';\nimport * as raw from './codecs/raw.js';\nimport * as json from './codecs/json.js';\nimport {\n  CID,\n  hasher,\n  digest,\n  varint,\n  bytes\n} from './index.js';\nconst bases = {\n  ...identityBase,\n  ...base2,\n  ...base8,\n  ...base10,\n  ...base16,\n  ...base32,\n  ...base36,\n  ...base58,\n  ...base64,\n  ...base256emoji\n};\nconst hashes = {\n  ...sha2,\n  ...identity\n};\nconst codecs = {\n  raw,\n  json\n};\nexport {\n  CID,\n  hasher,\n  digest,\n  varint,\n  bytes,\n  hashes,\n  bases,\n  codecs\n};","import { bases } from 'multiformats/basics';\nimport { allocUnsafe } from '../alloc.js';\nfunction createCodec(name, prefix, encode, decode) {\n  return {\n    name,\n    prefix,\n    encoder: {\n      name,\n      prefix,\n      encode\n    },\n    decoder: { decode }\n  };\n}\nconst string = createCodec('utf8', 'u', buf => {\n  const decoder = new TextDecoder('utf8');\n  return 'u' + decoder.decode(buf);\n}, str => {\n  const encoder = new TextEncoder();\n  return encoder.encode(str.substring(1));\n});\nconst ascii = createCodec('ascii', 'a', buf => {\n  let string = 'a';\n  for (let i = 0; i < buf.length; i++) {\n    string += String.fromCharCode(buf[i]);\n  }\n  return string;\n}, str => {\n  str = str.substring(1);\n  const buf = allocUnsafe(str.length);\n  for (let i = 0; i < str.length; i++) {\n    buf[i] = str.charCodeAt(i);\n  }\n  return buf;\n});\nconst BASES = {\n  utf8: string,\n  'utf-8': string,\n  hex: bases.base16,\n  latin1: ascii,\n  ascii: ascii,\n  binary: ascii,\n  ...bases\n};\nexport default BASES;","import bases from './util/bases.js';\nexport function fromString(string, encoding = 'utf8') {\n  const base = bases[encoding];\n  if (!base) {\n    throw new Error(`Unsupported encoding \"${ encoding }\"`);\n  }\n  if ((encoding === 'utf8' || encoding === 'utf-8') && globalThis.Buffer != null && globalThis.Buffer.from != null) {\n    return globalThis.Buffer.from(string, 'utf8');\n  }\n  return base.decoder.decode(`${ base.prefix }${ string }`);\n}","import bases from './util/bases.js';\nexport function toString(array, encoding = 'utf8') {\n  const base = bases[encoding];\n  if (!base) {\n    throw new Error(`Unsupported encoding \"${ encoding }\"`);\n  }\n  if ((encoding === 'utf8' || encoding === 'utf-8') && globalThis.Buffer != null && globalThis.Buffer.from != null) {\n    return globalThis.Buffer.from(array.buffer, array.byteOffset, array.byteLength).toString('utf8');\n  }\n  return base.encoder.encode(array).substring(1);\n}","import { randomStringForEntropy } from \"@stablelib/random\";\nimport { hash } from \"@stablelib/sha256\";\nimport { fromString, toString } from \"uint8arrays\";\n\nexport const BASE10 = \"base10\";\nexport const BASE16 = \"base16\";\nexport const BASE64 = \"base64pad\";\nexport const UTF8 = \"utf8\";\n\n// Reference implementation:\n// https://github.com/spruceid/siwe/blob/38140330e54af91b1fab8ba1a8169e1fcbd8d271/packages/siwe/lib/utils.ts#L44\nexport function generateNonce(): string {\n  return randomStringForEntropy(96);\n}\n\nexport function hashMessage(message: string): string {\n  const result = hash(fromString(message, UTF8));\n  return toString(result, BASE16);\n}\n","import { PAIRING_EVENTS, RELAYER_EVENTS } from \"@walletconnect/core\";\nimport {\n  formatJsonRpcError,\n  formatJsonRpcRequest,\n  formatJsonRpcResult,\n  isJsonRpcError,\n  isJsonRpcRequest,\n  isJsonRpcResponse,\n  isJsonRpcResult,\n} from \"@walletconnect/jsonrpc-utils\";\nimport { PairingTypes, RelayerTypes, Verify } from \"@walletconnect/types\";\nimport { getInternalError, hashKey, isBrowser, TYPE_1 } from \"@walletconnect/utils\";\nimport { AUTH_CLIENT_PUBLIC_KEY_NAME, ENGINE_RPC_OPTS } from \"../constants\";\nimport { AuthClientTypes, AuthEngineTypes, IAuthEngine, JsonRpcTypes } from \"../types\";\nimport { getDidAddress, getDidChainId, getNamespacedDidChainId } from \"../utils/address\";\nimport { verifySignature } from \"../utils/signature\";\nimport { getPendingRequest, getPendingRequests } from \"../utils/store\";\nimport { isValidRequest, isValidRespond } from \"../utils/validators\";\nimport { hashMessage } from \"../utils/crypto\";\n\nexport class AuthEngine extends IAuthEngine {\n  private initialized = false;\n  public name = \"authEngine\";\n\n  constructor(client: IAuthEngine[\"client\"]) {\n    super(client);\n  }\n\n  public init: IAuthEngine[\"init\"] = () => {\n    if (!this.initialized) {\n      this.registerRelayerEvents();\n      this.registerPairingEvents();\n      this.client.core.pairing.register({ methods: Object.keys(ENGINE_RPC_OPTS) });\n      this.initialized = true;\n    }\n  };\n\n  // ---------- Public ------------------------------------------------ //\n\n  public request: IAuthEngine[\"request\"] = async (params, opts) => {\n    this.isInitialized();\n\n    if (!isValidRequest(params)) {\n      throw new Error(\"Invalid request\");\n    }\n\n    if (opts?.topic) {\n      return await this.requestOnKnownPairing(opts.topic, params);\n    }\n\n    // SPEC: A will construct an authentication request.\n    const { chainId, statement, aud, domain, nonce, type, exp, nbf } = params;\n\n    const { topic: pairingTopic, uri } = await this.client.core.pairing.create();\n\n    this.client.logger.info({\n      message: \"Generated new pairing\",\n      pairing: { topic: pairingTopic, uri },\n    });\n\n    const publicKey = await this.client.core.crypto.generateKeyPair();\n    const responseTopic = hashKey(publicKey);\n\n    await this.client.authKeys.set(AUTH_CLIENT_PUBLIC_KEY_NAME, { responseTopic, publicKey });\n    await this.client.pairingTopics.set(responseTopic, { topic: responseTopic, pairingTopic });\n\n    // Subscribe to auth_response topic\n    await this.client.core.relayer.subscribe(responseTopic);\n\n    this.client.logger.info(`sending request to new pairing topic: ${pairingTopic}`);\n\n    // SPEC: A encrypts reuqest with symKey S\n    // SPEC: A publishes encrypted request to topic\n    const id = await this.sendRequest(\n      pairingTopic,\n      \"wc_authRequest\",\n      {\n        payloadParams: {\n          type: type ?? \"eip4361\",\n          chainId,\n          statement,\n          aud,\n          domain,\n          version: \"1\",\n          nonce,\n          iat: new Date().toISOString(),\n          exp,\n          nbf,\n        },\n        requester: { publicKey, metadata: this.client.metadata },\n      },\n      {},\n      params.expiry,\n    );\n\n    this.client.logger.info(`sent request to new pairing topic: ${pairingTopic}`);\n\n    return { uri, id };\n  };\n\n  public respond: IAuthEngine[\"respond\"] = async (respondParams, iss) => {\n    this.isInitialized();\n\n    if (!isValidRespond(respondParams, this.client.requests)) {\n      throw new Error(\"Invalid response\");\n    }\n\n    const pendingRequest = getPendingRequest(this.client.requests, respondParams.id);\n    if (!pendingRequest) {\n      throw new Error(`Could not find pending auth request with id ${respondParams.id}`);\n    }\n\n    const receiverPublicKey = pendingRequest.requester.publicKey;\n    const senderPublicKey = await this.client.core.crypto.generateKeyPair();\n    const responseTopic = hashKey(receiverPublicKey);\n    const encodeOpts = {\n      type: TYPE_1,\n      receiverPublicKey,\n      senderPublicKey,\n    };\n\n    if (\"error\" in respondParams) {\n      await this.sendError(pendingRequest.id, responseTopic, respondParams, encodeOpts);\n      return;\n    }\n\n    const cacao: AuthEngineTypes.Cacao = {\n      h: {\n        t: \"eip4361\",\n      },\n      p: {\n        ...pendingRequest.cacaoPayload,\n        iss,\n      },\n      s: respondParams.signature,\n    };\n\n    await this.sendResult<\"wc_authRequest\">(pendingRequest.id, responseTopic, cacao, encodeOpts);\n    await this.client.core.pairing.activate({ topic: pendingRequest.pairingTopic });\n    await this.client.requests.update(pendingRequest.id, { ...cacao });\n  };\n\n  public getPendingRequests: IAuthEngine[\"getPendingRequests\"] = () => {\n    const pendingRequests = getPendingRequests(this.client.requests);\n    return pendingRequests;\n  };\n\n  public formatMessage = (cacao: AuthEngineTypes.CacaoPayload, iss: string) => {\n    this.client.logger.debug(`formatMessage, cacao is: ${JSON.stringify(cacao)}`);\n\n    const header = `${cacao.domain} wants you to sign in with your Ethereum account:`;\n    const walletAddress = getDidAddress(iss);\n    const statement = cacao.statement;\n    const uri = `URI: ${cacao.aud}`;\n    const version = `Version: ${cacao.version}`;\n    const chainId = `Chain ID: ${getDidChainId(iss)}`;\n    const nonce = `Nonce: ${cacao.nonce}`;\n    const issuedAt = `Issued At: ${cacao.iat}`;\n    const expiry = cacao.exp ? `Expiry: ${cacao.exp}` : undefined;\n    const resources =\n      cacao.resources && cacao.resources.length > 0\n        ? `Resources:\\n${cacao.resources.map((resource) => `- ${resource}`).join(\"\\n\")}`\n        : undefined;\n\n    const message = [\n      header,\n      walletAddress,\n      ``,\n      statement,\n      ``,\n      uri,\n      version,\n      chainId,\n      nonce,\n      issuedAt,\n      expiry,\n      resources,\n    ]\n      .filter((val) => val !== undefined && val !== null) // remove unnecessary empty lines\n      .join(\"\\n\");\n\n    return message;\n  };\n\n  // ---------- Protected/Private Helpers --------------------------------------- //\n\n  protected setExpiry: IAuthEngine[\"setExpiry\"] = async (topic, expiry) => {\n    if (this.client.core.pairing.pairings.keys.includes(topic)) {\n      await this.client.core.pairing.updateExpiry({ topic, expiry });\n    }\n    this.client.core.expirer.set(topic, expiry);\n  };\n\n  protected sendRequest: IAuthEngine[\"sendRequest\"] = async (\n    topic,\n    method,\n    params,\n    encodeOpts,\n    expiry,\n  ) => {\n    const payload = formatJsonRpcRequest(method, params);\n    const message = await this.client.core.crypto.encode(topic, payload, encodeOpts);\n    const rpcOpts = ENGINE_RPC_OPTS[method].req;\n    if (expiry) rpcOpts.ttl = expiry;\n    this.client.core.history.set(topic, payload);\n    if (isBrowser()) {\n      const hash = hashMessage(JSON.stringify(payload));\n      this.client.core.verify.register({ attestationId: hash });\n    }\n    await this.client.core.relayer.publish(topic, message, {\n      ...rpcOpts,\n      internal: {\n        throwOnFailedPublish: true,\n      },\n    });\n    return payload.id;\n  };\n\n  protected sendResult: IAuthEngine[\"sendResult\"] = async (id, topic, result, encodeOpts) => {\n    const payload = formatJsonRpcResult(id, result);\n    const message = await this.client.core.crypto.encode(topic, payload, encodeOpts);\n    const record = await this.client.core.history.get(topic, id);\n    const rpcOpts = ENGINE_RPC_OPTS[record.request.method].res;\n\n    await this.client.core.relayer.publish(topic, message, {\n      ...rpcOpts,\n      internal: {\n        throwOnFailedPublish: true,\n      },\n    });\n    await this.client.core.history.resolve(payload);\n    return payload.id;\n  };\n\n  protected sendError: IAuthEngine[\"sendError\"] = async (id, topic, params, encodeOpts) => {\n    const payload = formatJsonRpcError(id, params.error);\n    const message = await this.client.core.crypto.encode(topic, payload, encodeOpts);\n    const record = await this.client.core.history.get(topic, id);\n    const rpcOpts = ENGINE_RPC_OPTS[record.request.method].res;\n\n    await this.client.core.relayer.publish(topic, message, rpcOpts);\n    await this.client.core.history.resolve(payload);\n\n    return payload.id;\n  };\n\n  private requestOnKnownPairing = async (topic: string, params: AuthEngineTypes.RequestParams) => {\n    const knownPairing = this.client.core.pairing.pairings\n      .getAll({ active: true })\n      .find((pairing) => pairing.topic === topic);\n\n    if (!knownPairing) throw new Error(`Could not find pairing for provided topic ${topic}`);\n\n    const { publicKey } = this.client.authKeys.get(AUTH_CLIENT_PUBLIC_KEY_NAME);\n    const { chainId, statement, aud, domain, nonce, type } = params;\n\n    // Send request to existing pairing\n    const id = await this.sendRequest(\n      knownPairing.topic,\n      \"wc_authRequest\",\n      {\n        payloadParams: {\n          type: type ?? \"eip4361\",\n          chainId,\n          statement,\n          aud,\n          domain,\n          version: \"1\",\n          nonce,\n          iat: new Date().toISOString(),\n        },\n        requester: { publicKey, metadata: this.client.metadata },\n      },\n      {},\n      params.expiry,\n    );\n\n    this.client.logger.info(`sent request to known pairing topic: ${knownPairing.topic}`);\n    return { id };\n  };\n\n  private isInitialized() {\n    if (!this.initialized) {\n      const { message } = getInternalError(\"NOT_INITIALIZED\", this.name);\n      throw new Error(message);\n    }\n  }\n\n  // ---------- Relay Events Router ----------------------------------- //\n\n  private registerRelayerEvents() {\n    this.client.core.relayer.on(\n      RELAYER_EVENTS.message,\n      async (event: RelayerTypes.MessageEvent) => {\n        const { topic, message } = event;\n\n        // Retrieve the public key (if defined) to decrypt possible `auth_request` response\n        const { responseTopic, publicKey } = this.client.authKeys.keys.includes(\n          AUTH_CLIENT_PUBLIC_KEY_NAME,\n        )\n          ? this.client.authKeys.get(AUTH_CLIENT_PUBLIC_KEY_NAME)\n          : { responseTopic: undefined, publicKey: undefined };\n\n        // If there's an expected responseTopic/publicKey, we only proceed if this message's topic matches,\n        // otherwise we're attempting to decrypt another client's TYPE_1 envelope with the wrong publicKey.\n        if (responseTopic && topic !== responseTopic) {\n          this.client.logger.debug(\"[Auth] Ignoring message from unknown topic\", topic);\n          return;\n        }\n\n        const payload = await this.client.core.crypto.decode(topic, message, {\n          receiverPublicKey: publicKey,\n        });\n        if (isJsonRpcRequest(payload)) {\n          this.client.core.history.set(topic, payload);\n          this.onRelayEventRequest({ topic, payload });\n        } else if (isJsonRpcResponse(payload)) {\n          await this.client.core.history.resolve(payload);\n          this.onRelayEventResponse({ topic, payload });\n        }\n      },\n    );\n  }\n\n  // ---------- Pairing Events Router --------------------------------- //\n  private registerPairingEvents() {\n    this.client.core.pairing.events.on(PAIRING_EVENTS.create, (pairing: PairingTypes.Struct) =>\n      this.onPairingCreated(pairing),\n    );\n  }\n\n  private onPairingCreated = (pairing: PairingTypes.Struct) => {\n    const pendingRequests = this.getPendingRequests();\n    if (pendingRequests) {\n      const request = Object.values(pendingRequests).find(\n        (request) => request.pairingTopic === pairing.topic,\n      );\n      if (request) this.handleAuthRequest(request);\n    }\n  };\n\n  protected onRelayEventRequest: IAuthEngine[\"onRelayEventRequest\"] = (event) => {\n    const { topic, payload } = event;\n    const reqMethod = payload.method as JsonRpcTypes.WcMethod;\n\n    switch (reqMethod) {\n      case \"wc_authRequest\":\n        return this.onAuthRequest(topic, payload);\n      default:\n        return this.client.logger.info(`Unsupported request method ${reqMethod}`);\n    }\n  };\n\n  protected onRelayEventResponse: IAuthEngine[\"onRelayEventResponse\"] = async (event) => {\n    const { topic, payload } = event;\n    const record = await this.client.core.history.get(topic, payload.id);\n    const resMethod = record.request.method as JsonRpcTypes.WcMethod;\n\n    switch (resMethod) {\n      case \"wc_authRequest\":\n        return this.onAuthResponse(topic, payload);\n      default:\n        return this.client.logger.info(`Unsupported response method ${resMethod}`);\n    }\n  };\n  // ---------- Relay Event Handlers --------------------------------- //\n\n  protected onAuthRequest: IAuthEngine[\"onAuthRequest\"] = async (topic, payload) => {\n    const { requester, payloadParams } = payload.params;\n    this.client.logger.info({ type: \"onAuthRequest\", topic, payload });\n    const hash = hashMessage(JSON.stringify(payload));\n    const verifyContext = await this.getVerifyContext(hash, this.client.metadata);\n    const pendingRequest = {\n      requester,\n      pairingTopic: topic,\n      id: payload.id,\n      cacaoPayload: payloadParams,\n      verifyContext,\n    };\n    await this.client.requests.set(payload.id, pendingRequest);\n    this.handleAuthRequest(pendingRequest);\n  };\n\n  private handleAuthRequest = async (request: AuthEngineTypes.PendingRequest) => {\n    const { id, pairingTopic, requester, cacaoPayload, verifyContext } = request;\n    try {\n      this.client.emit(\"auth_request\", {\n        id,\n        topic: pairingTopic,\n        params: {\n          requester,\n          cacaoPayload,\n        },\n        verifyContext,\n      });\n    } catch (err: any) {\n      await this.sendError(request.id, request.pairingTopic, err);\n      this.client.logger.error(err);\n    }\n  };\n\n  protected onAuthResponse: IAuthEngine[\"onAuthResponse\"] = async (topic, response) => {\n    const { id } = response;\n    this.client.logger.info({ type: \"onAuthResponse\", topic, response });\n\n    if (isJsonRpcResult(response)) {\n      const { pairingTopic } = this.client.pairingTopics.get(topic);\n      await this.client.core.pairing.activate({ topic: pairingTopic });\n\n      const { s: signature, p: payload } = response.result;\n      await this.client.requests.set(id, { id, pairingTopic, ...response.result });\n      const reconstructed = this.formatMessage(payload, payload.iss);\n      this.client.logger.debug(\"reconstructed message:\\n\", JSON.stringify(reconstructed));\n      this.client.logger.debug(\"payload.iss:\", payload.iss);\n      this.client.logger.debug(\"signature:\", signature);\n\n      const walletAddress = getDidAddress(payload.iss);\n      const chainId = getNamespacedDidChainId(payload.iss);\n\n      if (!walletAddress) {\n        throw new Error(\"Could not derive address from `payload.iss`\");\n      }\n      if (!chainId) {\n        throw new Error(\"Could not derive chainId from `payload.iss`\");\n      }\n      this.client.logger.debug(\"walletAddress extracted from `payload.iss`:\", walletAddress);\n\n      const isValid = await verifySignature(\n        walletAddress,\n        reconstructed,\n        signature,\n        chainId,\n        this.client.projectId,\n      );\n\n      if (!isValid) {\n        this.client.emit(\"auth_response\", {\n          id,\n          topic,\n          params: { message: \"Invalid signature\", code: -1 },\n        });\n      } else {\n        this.client.emit(\"auth_response\", { id, topic, params: response });\n      }\n    } else if (isJsonRpcError(response)) {\n      this.client.emit(\"auth_response\", { id, topic, params: response });\n    }\n  };\n\n  private getVerifyContext = async (hash: string, metadata: AuthClientTypes.Metadata) => {\n    const context: Verify.Context = {\n      verified: {\n        verifyUrl: metadata.verifyUrl || \"\",\n        validation: \"UNKNOWN\",\n        origin: metadata.url || \"\",\n      },\n    };\n\n    try {\n      const result = await this.client.core.verify.resolve({\n        attestationId: hash,\n        verifyUrl: metadata.verifyUrl,\n      });\n      if (result) {\n        context.verified.origin = result.origin;\n        context.verified.isScam = result.isScam;\n        context.verified.validation = origin === new URL(metadata.url).origin ? \"VALID\" : \"INVALID\";\n      }\n    } catch (e) {\n      this.client.logger.error(e);\n    }\n\n    this.client.logger.info(`Verify context: ${JSON.stringify(context)}`);\n    return context;\n  };\n}\n","import { Core, Store } from \"@walletconnect/core\";\nimport {\n  generateChildLogger,\n  getDefaultLoggerOptions,\n  getLoggerContext,\n  pino,\n} from \"@walletconnect/logger\";\nimport { EventEmitter } from \"events\";\n\nimport { AuthClientTypes, AuthEngineTypes, IAuthClient } from \"./types\";\nimport { AuthEngine } from \"./controllers\";\nimport {\n  AUTH_CLIENT_PROTOCOL,\n  AUTH_CLIENT_STORAGE_PREFIX,\n  AUTH_CLIENT_VERSION,\n  AUTH_CLIENT_DEFAULT_NAME,\n  AUTH_CLIENT_PUBLIC_KEY_NAME,\n} from \"./constants\";\n\nexport class AuthClient extends IAuthClient {\n  public readonly protocol = AUTH_CLIENT_PROTOCOL;\n  public readonly version = AUTH_CLIENT_VERSION;\n\n  public name: IAuthClient[\"name\"] = AUTH_CLIENT_DEFAULT_NAME;\n  public core: IAuthClient[\"core\"];\n  public metadata: IAuthClient[\"metadata\"];\n  public projectId: IAuthClient[\"projectId\"];\n  public logger: IAuthClient[\"logger\"];\n  public events: IAuthClient[\"events\"] = new EventEmitter();\n  public engine: IAuthClient[\"engine\"];\n  public authKeys: IAuthClient[\"authKeys\"];\n  public pairingTopics: IAuthClient[\"pairingTopics\"];\n  public requests: IAuthClient[\"requests\"];\n\n  static async init(opts: AuthClientTypes.Options) {\n    const client = new AuthClient(opts);\n    await client.initialize();\n\n    return client;\n  }\n\n  constructor(opts: AuthClientTypes.Options) {\n    super(opts);\n\n    const logger =\n      typeof opts.logger !== \"undefined\" && typeof opts.logger !== \"string\"\n        ? opts.logger\n        : pino(\n            getDefaultLoggerOptions({\n              level: opts.logger || \"error\",\n            }),\n          );\n\n    this.name = opts?.name || AUTH_CLIENT_DEFAULT_NAME;\n    this.metadata = opts.metadata;\n    this.projectId = opts.projectId;\n    this.core = opts.core || new Core(opts);\n    this.logger = generateChildLogger(logger, this.name);\n    this.authKeys = new Store(\n      this.core,\n      this.logger,\n      \"authKeys\",\n      AUTH_CLIENT_STORAGE_PREFIX,\n      () => AUTH_CLIENT_PUBLIC_KEY_NAME,\n    );\n    this.pairingTopics = new Store(\n      this.core,\n      this.logger,\n      \"pairingTopics\",\n      AUTH_CLIENT_STORAGE_PREFIX,\n    );\n    this.requests = new Store(\n      this.core,\n      this.logger,\n      \"requests\",\n      AUTH_CLIENT_STORAGE_PREFIX,\n      (val: AuthEngineTypes.PendingRequest) => val.id,\n    );\n    this.engine = new AuthEngine(this);\n  }\n\n  get context() {\n    return getLoggerContext(this.logger);\n  }\n\n  // ---------- Events ----------------------------------------------- //\n\n  public emit: IAuthClient[\"emit\"] = (name, listener) => {\n    return this.events.emit(name, listener);\n  };\n\n  public on: IAuthClient[\"on\"] = (name, listener) => {\n    return this.events.on(name, listener);\n  };\n\n  public once: IAuthClient[\"once\"] = (name, listener) => {\n    return this.events.once(name, listener);\n  };\n\n  public off: IAuthClient[\"off\"] = (name, listener) => {\n    return this.events.off(name, listener);\n  };\n\n  public removeListener: IAuthClient[\"removeListener\"] = (name, listener) => {\n    return this.events.removeListener(name, listener);\n  };\n\n  // ---------- Engine ----------------------------------------------- //\n\n  // request wallet authentication\n  public request: IAuthClient[\"request\"] = async (params, opts) => {\n    try {\n      return await this.engine.request(params, opts);\n    } catch (error: any) {\n      this.logger.error(error.message);\n      throw error;\n    }\n  };\n\n  // respond wallet authentication\n  public respond: IAuthClient[\"respond\"] = async (params, iss) => {\n    try {\n      return await this.engine.respond(params, iss);\n    } catch (error: any) {\n      this.logger.error(error.message);\n      throw error;\n    }\n  };\n\n  public getPendingRequests: IAuthClient[\"getPendingRequests\"] = () => {\n    try {\n      return this.engine.getPendingRequests();\n    } catch (error: any) {\n      this.logger.error(error.message);\n      throw error;\n    }\n  };\n\n  public formatMessage: IAuthClient[\"formatMessage\"] = (payload, iss) => {\n    try {\n      return this.engine.formatMessage(payload, iss);\n    } catch (error: any) {\n      this.logger.error(error.message);\n      throw error;\n    }\n  };\n\n  // ---------- Private ----------------------------------------------- //\n\n  private async initialize() {\n    this.logger.trace(`Initialized`);\n    try {\n      await this.core.start();\n      await this.authKeys.init();\n      await this.requests.init();\n      await this.pairingTopics.init();\n      await this.engine.init();\n      this.logger.info(`AuthClient Initialization Success`);\n      this.logger.info({ authClient: this });\n    } catch (error: any) {\n      this.logger.info(`AuthClient Initialization Failure`);\n      this.logger.error(error.message);\n      throw error;\n    }\n  }\n}\n","import { AuthClient as Client } from \"./client\";\n\nexport * from \"./constants\";\nexport * from \"./types\";\nexport * from \"./utils/crypto\";\n\nexport const AuthClient = Client;\nexport default Client;\n"],"names":["client","opts","ONE_DAY","FIVE_MINUTES","SEVEN_DAYS","iss","segments","address","reconstructedMessage","cacaoSignature","chainId","projectId","isValidEip191Signature","isValidEip1271Signature","message","signature","recoverAddress","hashMessage","eip1271MagicValue","dynamicTypeOffset","dynamicTypeLength","nonPrefixedSignature","nonPrefixedHashedMessage","data","response","fetch","DEFAULT_RPC_URL","generateJsonRpcId","result","error","store","request","id","params","validAudience","isValidUrl","domainInAud","hasNonce","hasValidType","expiry","isValidRequestExpiry","AUTH_REQUEST_EXPIRY_BOUNDARIES","getInternalError","pendingResponses","getPendingRequest","fromString","toString","from","basex","decode","encode","identity","varint","varint.encodingLength","varint.encodeTo","Digest.create","base2","base8","base10","base16","base32","base36","base64","base256emoji","bases","randomStringForEntropy","hash","IAuthEngine","ENGINE_RPC_OPTS","isValidRequest","statement","aud","domain","nonce","type","exp","nbf","pairingTopic","uri","publicKey","responseTopic","hashKey","AUTH_CLIENT_PUBLIC_KEY_NAME","respondParams","isValidRespond","pendingRequest","receiverPublicKey","senderPublicKey","encodeOpts","TYPE_1","cacao","__spreadProps","__spreadValues","getPendingRequests","header","walletAddress","getDidAddress","version","getDidChainId","issuedAt","resources","resource","val","topic","method","payload","formatJsonRpcRequest","rpcOpts","isBrowser","formatJsonRpcResult","record","formatJsonRpcError","knownPairing","pairing","pendingRequests","event","reqMethod","resMethod","requester","payloadParams","verifyContext","cacaoPayload","err","isJsonRpcResult","reconstructed","getNamespacedDidChainId","verifySignature","isJsonRpcError","metadata","context","e","RELAYER_EVENTS","isJsonRpcRequest","isJsonRpcResponse","PAIRING_EVENTS","AuthClient","IAuthClient","AUTH_CLIENT_PROTOCOL","AUTH_CLIENT_VERSION","AUTH_CLIENT_DEFAULT_NAME","EventEmitter","name","listener","logger","pino","getDefaultLoggerOptions","Core","generateChildLogger","Store","AUTH_CLIENT_STORAGE_PREFIX","AuthEngine","getLoggerContext","Client"],"mappings":"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"}